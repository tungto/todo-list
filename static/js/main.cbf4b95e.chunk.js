(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{126:function(e,t,n){"use strict";n.r(t);var a,r,c,i,s,d,l,o=n(0),b=n.n(o),j=n(29),u=n.n(j),m=(n(68),n(69),n(6)),h=n(21),p=n(11),O=n(12),f=n(3),x=O.a.div(a||(a=Object(p.a)(["\n  .nav-links {\n    display: flex;\n    justify-content: center;\n  }\n  .link {\n    margin: 1rem;\n    a {\n      padding: 0.5rem;\n      font-weight: 500;\n      :hover {\n        border-bottom: 1px solid var(--clr-black);\n      }\n    }\n  }\n  @media (min-width: 800px) {\n    padding: 2rem;\n  }\n"]))),g=function(){return Object(f.jsx)(x,{className:"navbar",children:Object(f.jsxs)("ul",{className:"nav-links",children:[Object(f.jsx)("li",{className:"link",children:Object(f.jsx)(h.b,{to:"/",exact:"true",children:"Home"})}),Object(f.jsx)("li",{className:"link",children:Object(f.jsx)(h.b,{to:"/add",children:"Add Todo"})})]})})},k=n(5),v=n(10),y=n(20),S=n(8),N="LOAD_TASKS",T="ADD_TASK",w="REMOVE_TASK",D="UPDATE_TASK",E="EDIT_TASK",I="SELECT_TASK",C="SORT_TASKS",_="REMOVE_SELECTED_TASKS",A="FILTER_TASKS",F="UPDATE_FILTERS",J=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},K=function(e,t){var n=-1;return e.forEach((function(e,a){e.id===t.id&&(n=a)})),n},L=function(e,t){localStorage.setItem("".concat(e),JSON.stringify(t))},M=function(e,t){if(t.type===N)return Object(k.a)(Object(k.a)({},e),{},{tasks:t.payload,filtered_tasks:t.payload});if(t.type===T)return Object(k.a)(Object(k.a)({},e),{},{tasks:[].concat(Object(S.a)(e.tasks),[t.payload])});if(t.type===w){var n=e.tasks.filter((function(e){return e.id!==t.payload}));return Object(k.a)(Object(k.a)({},e),{},{tasks:n})}if(t.type===E){var a=K(e.tasks,t.payload);return e.tasks[a].isEditing=!0,Object(k.a)({},e)}if(t.type===D){var r=K(e.tasks,t.payload),c=Object(S.a)(e.tasks);return c[r]=t.payload,Object(k.a)(Object(k.a)({},e),{},{tasks:c})}if(t.type===I){var i=e.selectedItems,s=e.tasks.map((function(e){return e.id===t.payload?(e.isSelected?i-=1:i+=1,Object(k.a)(Object(k.a)({},e),{},{isSelected:!e.isSelected})):e}));return Object(k.a)(Object(k.a)({},e),{},{tasks:s,selectedItems:i})}if(t.type===_){var d=e.tasks.filter((function(e){return!e.isSelected}));return Object(k.a)(Object(k.a)({},e),{},{tasks:d,selectedItems:0})}if(t.type===F){var l=t.payload,o=l.name,b=l.value;return console.log(o,b),Object(k.a)(Object(k.a)({},e),{},{filters:Object(k.a)(Object(k.a)({},e.filters),{},Object(y.a)({},o,b))})}if(t.type===A){var j=Object(S.a)(e.tasks),u=e.filters.text,m=j.filter((function(e){return e.title.toLowerCase().startsWith(u)}));return Object(k.a)(Object(k.a)({},e),{},{filtered_tasks:m})}if(t.type===C){var h=Object(S.a)(e.filtered_tasks);return"due-date"===e.sort&&(h=h.sort((function(e,t){return"object"===typeof e.dueDate&&null!==e.dueDate&&(e.dueDate=JSON.parse(JSON.stringify(e.dueDate))),"object"===typeof t.dueDate&&null!==t.dueDate&&(t.dueDate=JSON.parse(JSON.stringify(t.dueDate))),new Date(e.dueDate)-new Date(t.dueDate)}))),Object(k.a)(Object(k.a)({},e),{},{filtered_tasks:h})}throw new Error("No Matching ".concat(t.type," - action type"))},R=function(){var e=localStorage.getItem("tasks"),t=localStorage.getItem("selectedItems");return e?{tasks:JSON.parse(e),selectedItems:JSON.parse(t)}:{tasks:[],selectedItems:0}},P={tasks:R().tasks,selectedItems:R().selectedItems,filtered_tasks:[],filters:{text:""},sort:"due-date"},V=b.a.createContext(),z=function(e){var t=e.children,n=Object(o.useReducer)(M,P),a=Object(v.a)(n,2),r=a[0],c=a[1];Object(o.useEffect)((function(){c({type:N,payload:r.tasks})}),[r.tasks]),Object(o.useEffect)((function(){c({type:A}),c({type:C})}),[r.sort,r.filters,r.tasks]),Object(o.useEffect)((function(){L("tasks",r.tasks),L("selectedItems",r.selectedItems)}),[r.tasks,r.selectedItems]);return Object(f.jsx)(V.Provider,{value:Object(k.a)(Object(k.a)({},r),{},{addTask:function(e){c({type:T,payload:e})},removeTask:function(e){c({type:w,payload:e})},updateTask:function(e){c({type:D,payload:e}),L("tasks",r.tasks)},editTask:function(e){c({type:E,payload:e})},selectTask:function(e){c({type:I,payload:e}),L("tasks",r.tasks),L("selectedItems",r.selectedItems)},removeSelectedTasks:function(){c({type:_})},updateFilters:function(e){var t=e.target.name,n=e.target.value;c({type:F,payload:{name:t,value:n}})}}),children:t})},q=function(){return Object(o.useContext)(V)},B=O.a.div(r||(r=Object(p.a)(["\n  .search-bar {\n    padding: 10px;\n    width: 80%;\n    border-radius: var(--radius);\n    font-size: 1rem;\n  }\n  @media (min-width: 800px) {\n    margin-top: 3rem;\n    margin-bottom: 1rem;\n  }\n"]))),U=function(){var e=q(),t=e.filters,n=e.updateFilters;return Object(f.jsx)(B,{children:Object(f.jsx)("div",{className:"search-bar-container",children:Object(f.jsx)("input",{name:"text",type:"text",className:"search-bar",placeholder:"Search",value:t.text,onChange:n})})})},H=n(57),W=n.n(H),G=(n(80),n(60)),Q=n(61),X={id:null,title:"",description:"",priority:"normal",dueDate:new Date,isSelected:!1},Y=O.a.div(c||(c=Object(p.a)(["\n  .add-taks-form {\n    padding: 3rem;\n    .input-title {\n      padding: 10px;\n      width: 80%;\n      border-radius: var(--radius);\n    }\n    .field {\n      display: flex;\n      flex-direction: column;\n    }\n    .description {\n      textarea {\n        height: 125px;\n        padding: 0.5rem;\n      }\n    }\n\n    .form-section {\n      width: 80%;\n      margin: 0 auto;\n      margin-top: 1rem;\n      margin-bottom: 1rem;\n    }\n    label {\n      margin-top: 0.5rem;\n      margin-bottom: 0.5rem;\n      text-transform: capitalize;\n      font-weight: 500;\n      text-align: left;\n    }\n    .other-infos {\n      display: grid;\n      grid-template-columns: 1fr 1fr;\n      gap: 2rem;\n      input,\n      select {\n        width: 100%;\n        padding: 0.5rem;\n      }\n      .date-bar {\n        display: flex;\n        position: relative;\n        .react-datepicker-wrapper {\n          width: 100%;\n        }\n        svg {\n          width: 34px;\n          height: 34px;\n          position: absolute;\n          right: 0px;\n        }\n      }\n    }\n    .btn-add {\n      background: var(--clr-red-dark);\n      margin-top: 3rem;\n      width: 6rem;\n      :hover {\n        background: var(--clr-red-light);\n      }\n    }\n    .error-msg {\n      text-align: left;\n      width: 80%;\n      color: var(--clr-red-dark);\n      margin: 0 auto;\n    }\n\n    @media (max-width: 800px) {\n      padding: 1rem 0 1rem 0;\n      .btn-add {\n        margin-top: 1rem;\n      }\n    }\n  }\n"]))),Z=function(e){var t=q(),n=t.addTask,a=t.updateTask,r=Object(o.useState)(X),c=Object(v.a)(r,2),i=c[0],s=c[1],d=e.isEditing,l=Object(G.a)(),b=l.register,j=l.handleSubmit,u=l.setValue,m=l.formState.errors;Object(o.useEffect)((function(){d&&(s(e.task),u("title",e.task.title))}),[e.task,d,u]);var h=i.title,p=i.description,O=i.priority,x=i.dueDate;return Object(f.jsx)(Y,{children:Object(f.jsxs)("form",{className:"add-taks-form",onSubmit:j((function(){d?(a(i),e.setIsEditing(!1)):(n(Object(k.a)(Object(k.a)({},i),{},{id:J()})),e.history.push("/"))})),children:[Object(f.jsx)("input",Object(k.a)(Object(k.a)({type:"text",placeholder:"Add new task",className:"input-title",name:"title",defaultValue:h},b("title",{required:!0})),{},{onChange:function(e){return s(Object(k.a)(Object(k.a)({},i),{},{title:e.target.value}))}})),m.title&&Object(f.jsx)("p",{className:"error-msg",children:"This field is required"}),Object(f.jsxs)("div",{className:"description form-section field",children:[Object(f.jsx)("label",{htmlFor:"description",children:"description"}),Object(f.jsx)("textarea",{type:"text",placeholder:"",name:"description",value:p,onChange:function(e){return s(Object(k.a)(Object(k.a)({},i),{},{description:e.target.value}))}})]}),Object(f.jsxs)("div",{className:"other-infos form-section",children:[Object(f.jsxs)("div",{className:"due-date field",children:[Object(f.jsx)("label",{htmlFor:"date",children:"Due Date"}),Object(f.jsxs)("div",{className:"date-bar",children:[Object(f.jsx)(W.a,{selected:Date.parse(x),onChange:function(e){return s(Object(k.a)(Object(k.a)({},i),{},{dueDate:e}))},dateFormat:"d MMMM yyyy",minDate:new Date}),Object(f.jsx)(Q.a,{})]})]}),Object(f.jsxs)("div",{className:"priority field",children:[Object(f.jsx)("label",{htmlFor:"priority",children:"priority"}),Object(f.jsxs)("select",{value:O,onChange:function(e){return s(Object(k.a)(Object(k.a)({},i),{},{priority:e.target.value}))},children:[Object(f.jsx)("option",{value:"low",children:"low"}),Object(f.jsx)("option",{value:"normal",children:"normal"}),Object(f.jsx)("option",{value:"high",children:"high"})]})]})]}),Object(f.jsx)("button",{type:"submit",className:"btn btn-add",children:"".concat(d?"update":"add")})]})})},$=O.a.div(i||(i=Object(p.a)(["\n  border: 1px solid var(--clr-black);\n  border-radius: var(--radius);\n  margin-top: 1.5rem;\n  margin-bottom: 1.5rem;\n  .task-editing {\n    border-bottom: 1px solid var(--clr-black);\n  }\n  .task {\n    display: flex;\n    justify-content: space-between;\n    padding: 1rem;\n    @media (max-width: 500px) {\n      padding: 0.5rem;\n      flex-direction: column;\n      .left-task-item {\n        margin-bottom: 1rem;\n      }\n    }\n    .left-task-item {\n      display: flex;\n      align-items: center;\n    }\n    .checkbox[type='checkbox'] {\n      display: inline-block;\n      margin-right: 1rem;\n      height: 16px;\n      width: 16px;\n    }\n    .task-title {\n      text-transform: capitalize;\n    }\n    .btn-detail {\n      margin-right: 1rem;\n    }\n    .btn-remove {\n      background-color: var(--clr-red-dark);\n      :hover {\n        background-color: var(--clr-red-light);\n      }\n    }\n    .btn-detail {\n      background-color: var(--clr-blue-dark);\n      :hover {\n        background-color: var(--clr-blue-light);\n      }\n    }\n  }\n"]))),ee=function(e){var t=q(),n=t.removeTask,a=t.selectTask,r=Object(o.useState)(!1),c=Object(v.a)(r,2),i=c[0],s=c[1],d=e.title,l=e.id,b=e.isSelected;return Object(f.jsxs)($,{className:"task-container",children:[Object(f.jsxs)("div",{className:"".concat(i?"task task-editing":"task"),children:[Object(f.jsxs)("div",{className:"left-task-item",children:[Object(f.jsx)("input",{type:"checkbox",name:"checkbox",className:"checkbox",checked:b,onChange:function(){return a(l,b)}}),Object(f.jsx)("span",{className:"task-title",children:d})]}),Object(f.jsxs)("div",{className:"buttons",children:[Object(f.jsx)("button",{onClick:function(){return s(!i)},className:"btn btn-detail",children:"detail"}),Object(f.jsx)("button",{onClick:function(){return n(l)},className:"btn btn-remove",children:"remove"})]})]}),i&&Object(f.jsx)(Z,{task:e,isEditing:i,setIsEditing:s})]})},te=O.a.div(s||(s=Object(p.a)(["\n  .btn {\n    width: 100px;\n  }\n  .btn-remove-select {\n    background-color: var(--clr-red-dark);\n    margin-right: 1rem;\n    :hover {\n      background-color: var(--clr-red-light);\n    }\n  }\n  .btn-done {\n    background-color: var(--clr-dodger-dark);\n    :hover {\n      background-color: var(--clr-dodger-light);\n    }\n  }\n"]))),ne=function(e){var t=q().removeSelectedTasks;return Object(f.jsx)(te,{children:Object(f.jsxs)("div",{className:"buld-action-container",children:[Object(f.jsx)("button",{className:"btn btn-remove-select",onClick:t,children:"remove"}),Object(f.jsx)("button",{className:"btn btn-done",children:"done"})]})})},ae=O.a.div(d||(d=Object(p.a)(["\n  width: 80%;\n  margin: 0 auto;\n"]))),re=function(){var e=q(),t=e.filtered_tasks,n=e.selectedItems;return t.length<1?Object(f.jsx)("h1",{children:"No task found"}):Object(f.jsxs)(ae,{children:[t.map((function(e,t){return Object(f.jsx)(ee,Object(k.a)({},e),t)})),n>0&&Object(f.jsx)(ne,{})]})},ce=O.a.div(l||(l=Object(p.a)(["\n  .btn-fill {\n    background: var(--clr-blue-dark);\n  }\n  .home-page {\n    padding-right: 3rem;\n    padding-left: 3rem;\n\n    @media (max-width: 800px) {\n      padding-right: 0rem;\n      padding-left: 0rem;\n    }\n  }\n"]))),ie=function(){var e=q().tasks;return!e||e.length<1?Object(f.jsxs)(ce,{children:[Object(f.jsx)("h1",{children:"there is no tasks"}),Object(f.jsx)(h.b,{to:"/add",exact:"true",className:"btn btn-fill",children:"fill it"})]}):Object(f.jsx)(ce,{children:Object(f.jsxs)("div",{className:"home-page section-center",children:[Object(f.jsx)(g,{}),Object(f.jsx)("h3",{children:"To Do List"}),Object(f.jsx)(U,{}),Object(f.jsx)(re,{})]})})},se=function(e){return console.log(e.match,e.history),Object(f.jsxs)("div",{className:"add-task-container section-center",children:[Object(f.jsx)(g,{}),Object(f.jsx)("h3",{children:"New Task"}),Object(f.jsx)(Z,{history:e.history})]})};var de=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(h.a,{children:[Object(f.jsx)(m.a,{path:"/",component:function(e){var t=e.match;return Object(f.jsx)(ie,{match:t})},exact:!0}),Object(f.jsx)(m.a,{path:"/add",component:function(e){var t=e.match,n=e.history;return Object(f.jsx)(se,{match:t,history:n})},exact:!0})]})})},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,133)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};u.a.render(Object(f.jsx)(b.a.StrictMode,{children:Object(f.jsx)(z,{children:Object(f.jsx)(de,{})})}),document.getElementById("root")),le()},68:function(e,t,n){},69:function(e,t,n){}},[[126,1,2]]]);
//# sourceMappingURL=main.cbf4b95e.chunk.js.map