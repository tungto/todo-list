(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{126:function(e,t,n){"use strict";n.r(t);var a,r,c,s,i,o,d,l=n(0),b=n.n(l),j=n(29),u=n.n(j),m=(n(68),n(69),n(6)),p=n(21),h=n(11),O=n(5),f=n(10),g=n(20),x=n(8),k="LOAD_TASKS",v="ADD_TASK",y="REMOVE_TASK",S="UPDATE_TASK",N="EDIT_TASK",T="SELECT_TASK",w="SORT_TASKS",D="REMOVE_SELECTED_TASKS",E="FILTER_TASKS",I="UPDATE_FILTERS",C=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_=function(e,t){var n=-1;return e.forEach((function(e,a){e.id===t.id&&(n=a)})),n},A=function(e,t){localStorage.setItem("".concat(e),JSON.stringify(t))},F=function(e,t){if(t.type===k)return Object(O.a)(Object(O.a)({},e),{},{tasks:t.payload,filtered_tasks:t.payload});if(t.type===v)return Object(O.a)(Object(O.a)({},e),{},{tasks:[].concat(Object(x.a)(e.tasks),[t.payload])});if(t.type===y){console.log("check");var n=e.tasks.filter((function(e){return e.id!==t.payload}));return console.log(typeof t.payload),Object(O.a)(Object(O.a)({},e),{},{tasks:n})}if(t.type===N){var a=_(e.tasks,t.payload);return e.tasks[a].isEditing=!0,Object(O.a)({},e)}if(t.type===S){console.log("update reducer");var r=_(e.tasks,t.payload),c=Object(x.a)(e.tasks);return c[r]=t.payload,Object(O.a)(Object(O.a)({},e),{},{tasks:c})}if(t.type===T){var s=e.selectedItems,i=e.tasks.map((function(e){return e.id===t.payload?(e.isSelected?(console.log("subtract"),s-=1):(console.log("add"),s+=1),Object(O.a)(Object(O.a)({},e),{},{isSelected:!e.isSelected})):e}));return Object(O.a)(Object(O.a)({},e),{},{tasks:i,selectedItems:s})}if(t.type===D){var o=e.tasks.filter((function(e){return!e.isSelected}));return console.log(o),Object(O.a)(Object(O.a)({},e),{},{tasks:o,selectedItems:0})}if(t.type===I){var d=t.payload,l=d.name,b=d.value;return console.log(l,b),Object(O.a)(Object(O.a)({},e),{},{filters:Object(O.a)(Object(O.a)({},e.filters),{},Object(g.a)({},l,b))})}if(t.type===E){var j=Object(x.a)(e.tasks),u=e.filters.text,m=j.filter((function(e){return e.title.toLowerCase().startsWith(u)}));return console.log("filter taks"),Object(O.a)(Object(O.a)({},e),{},{filtered_tasks:m})}if(t.type===w){var p=Object(x.a)(e.filtered_tasks);return"due-date"===e.sort&&(p=p.sort((function(e,t){return"object"===typeof e.dueDate&&null!==e.dueDate&&(e.dueDate=JSON.parse(JSON.stringify(e.dueDate))),"object"===typeof t.dueDate&&null!==t.dueDate&&(t.dueDate=JSON.parse(JSON.stringify(t.dueDate))),new Date(e.dueDate)-new Date(t.dueDate)}))),Object(O.a)(Object(O.a)({},e),{},{filtered_tasks:p})}throw new Error("No Matching ".concat(t.type," - action type"))},J=n(3),K=function(){var e=localStorage.getItem("tasks"),t=localStorage.getItem("selectedItems");return e?{tasks:JSON.parse(e),selectedItems:JSON.parse(t)}:{tasks:[],selectedItems:0}},L={tasks:K().tasks,selectedItems:K().selectedItems,filtered_tasks:[],filters:{text:""},sort:"due-date"},M=b.a.createContext(),R=function(e){var t=e.children,n=Object(l.useReducer)(F,L),a=Object(f.a)(n,2),r=a[0],c=a[1];Object(l.useEffect)((function(){c({type:k,payload:r.tasks})}),[r.tasks]),Object(l.useEffect)((function(){c({type:E}),c({type:w})}),[r.sort,r.filters,r.tasks]),Object(l.useEffect)((function(){A("tasks",r.tasks),A("selectedItems",r.selectedItems)}),[r.tasks,r.selectedItems]);return Object(J.jsx)(M.Provider,{value:Object(O.a)(Object(O.a)({},r),{},{addTask:function(e){c({type:v,payload:e})},removeTask:function(e){c({type:y,payload:e})},updateTask:function(e){console.log("update task",e),c({type:S,payload:e}),A("tasks",r.tasks)},editTask:function(e){c({type:N,payload:e})},selectTask:function(e){c({type:T,payload:e}),A("tasks",r.tasks),A("selectedItems",r.selectedItems)},removeSelectedTasks:function(){c({type:D})},updateFilters:function(e){console.log(e);var t=e.target.name,n=e.target.value;c({type:I,payload:{name:t,value:n}})}}),children:t})},P=function(){return Object(l.useContext)(M)},V=n(12),z=V.a.div(a||(a=Object(h.a)(["\n  .btn {\n    width: 100px;\n  }\n  .btn-remove-select {\n    background-color: var(--clr-red-dark);\n    margin-right: 1rem;\n    :hover {\n      background-color: var(--clr-red-light);\n    }\n  }\n  .btn-done {\n    background-color: var(--clr-dodger-dark);\n    :hover {\n      background-color: var(--clr-dodger-light);\n    }\n  }\n"]))),q=function(e){var t=P().removeSelectedTasks;return Object(J.jsx)(z,{children:Object(J.jsxs)("div",{className:"buld-action-container",children:[Object(J.jsx)("button",{className:"btn btn-remove-select",onClick:t,children:"remove"}),Object(J.jsx)("button",{className:"btn btn-done",children:"done"})]})})},B=V.a.div(r||(r=Object(h.a)(["\n  .nav-links {\n    display: flex;\n    justify-content: center;\n  }\n  .link {\n    margin: 1rem;\n    a {\n      padding: 0.5rem;\n      font-weight: 500;\n      :hover {\n        border-bottom: 1px solid var(--clr-black);\n      }\n    }\n  }\n  @media (min-width: 800px) {\n    padding: 2rem;\n  }\n"]))),U=function(){return Object(J.jsx)(B,{className:"navbar",children:Object(J.jsxs)("ul",{className:"nav-links",children:[Object(J.jsx)("li",{className:"link",children:Object(J.jsx)(p.b,{to:"/",exact:"true",children:"Home"})}),Object(J.jsx)("li",{className:"link",children:Object(J.jsx)(p.b,{to:"/add",children:"Add Todo"})})]})})},H=V.a.div(c||(c=Object(h.a)(["\n  .search-bar {\n    padding: 10px;\n    width: 80%;\n    border-radius: var(--radius);\n    font-size: 1rem;\n  }\n  @media (min-width: 800px) {\n    margin-top: 3rem;\n    margin-bottom: 1rem;\n  }\n"]))),W=function(){var e=P(),t=e.filters,n=e.updateFilters;return Object(J.jsx)(H,{children:Object(J.jsx)("div",{className:"search-bar-container",children:Object(J.jsx)("input",{name:"text",type:"text",className:"search-bar",placeholder:"Search",value:t.text,onChange:n})})})},G=n(57),Q=n.n(G),X=(n(80),n(60)),Y=n(61),Z={id:null,title:"",description:"",priority:"normal",dueDate:new Date,isSelected:!1},$=V.a.div(s||(s=Object(h.a)(["\n  .add-taks-form {\n    padding: 3rem;\n    .input-title {\n      padding: 10px;\n      width: 80%;\n      border-radius: var(--radius);\n    }\n    .field {\n      display: flex;\n      flex-direction: column;\n    }\n    .description {\n      textarea {\n        height: 125px;\n        padding: 0.5rem;\n      }\n    }\n\n    .form-section {\n      width: 80%;\n      margin: 0 auto;\n      margin-top: 1rem;\n      margin-bottom: 1rem;\n    }\n    label {\n      margin-top: 0.5rem;\n      margin-bottom: 0.5rem;\n      text-transform: capitalize;\n      font-weight: 500;\n      text-align: left;\n    }\n    .other-infos {\n      display: grid;\n      grid-template-columns: 1fr 1fr;\n      gap: 2rem;\n      input,\n      select {\n        width: 100%;\n        padding: 0.5rem;\n      }\n      .date-bar {\n        display: flex;\n        position: relative;\n        svg {\n          width: 34px;\n          height: 34px;\n          position: absolute;\n          right: 6px;\n        }\n      }\n    }\n    .btn-add {\n      background: var(--clr-red-dark);\n      margin-top: 3rem;\n      width: 6rem;\n      :hover {\n        background: var(--clr-red-light);\n      }\n    }\n    .error-msg {\n      text-align: left;\n      width: 80%;\n      color: var(--clr-red-dark);\n      margin: 0 auto;\n    }\n\n    @media (max-width: 800px) {\n      padding: 1rem 0 1rem 0;\n      .btn-add {\n        margin-top: 1rem;\n      }\n    }\n  }\n"]))),ee=function(e){var t=P(),n=t.addTask,a=t.updateTask,r=Object(l.useState)(Z),c=Object(f.a)(r,2),s=c[0],i=c[1],o=e.isEditing,d=Object(X.a)(),b=d.register,j=d.handleSubmit,u=d.setValue,m=d.formState.errors;Object(l.useEffect)((function(){o&&(i(e.task),u("title",e.task.title))}),[e.task,o]);var p=s.title,h=s.description,g=s.priority,x=s.dueDate;return Object(J.jsx)($,{children:Object(J.jsxs)("form",{className:"add-taks-form",onSubmit:j((function(){console.log("check"),o?(a(s),e.setIsEditing(!1)):(n(Object(O.a)(Object(O.a)({},s),{},{id:C()})),e.history.push("/"))})),children:[Object(J.jsx)("input",Object(O.a)(Object(O.a)({type:"text",placeholder:"Add new task",className:"input-title",name:"title",defaultValue:p},b("title",{required:!0})),{},{onChange:function(e){return i(Object(O.a)(Object(O.a)({},s),{},{title:e.target.value}))}})),m.title&&Object(J.jsx)("p",{className:"error-msg",children:"This field is required"}),Object(J.jsxs)("div",{className:"description form-section field",children:[Object(J.jsx)("label",{htmlFor:"description",children:"description"}),Object(J.jsx)("textarea",{type:"text",placeholder:"",name:"description",value:h,onChange:function(e){return i(Object(O.a)(Object(O.a)({},s),{},{description:e.target.value}))}})]}),Object(J.jsxs)("div",{className:"other-infos form-section",children:[Object(J.jsxs)("div",{className:"due-date field",children:[Object(J.jsx)("label",{htmlFor:"date",children:"Due Date"}),Object(J.jsxs)("div",{className:"date-bar",children:[Object(J.jsx)(Q.a,{selected:Date.parse(x),onChange:function(e){return i(Object(O.a)(Object(O.a)({},s),{},{dueDate:e}))},dateFormat:"d MMMM yyyy",minDate:new Date}),Object(J.jsx)(Y.a,{})]})]}),Object(J.jsxs)("div",{className:"priority field",children:[Object(J.jsx)("label",{htmlFor:"priority",children:"priority"}),Object(J.jsxs)("select",{value:g,onChange:function(e){return i(Object(O.a)(Object(O.a)({},s),{},{priority:e.target.value}))},children:[Object(J.jsx)("option",{value:"low",children:"low"}),Object(J.jsx)("option",{value:"normal",children:"normal"}),Object(J.jsx)("option",{value:"high",children:"high"})]})]})]}),Object(J.jsx)("button",{type:"submit",className:"btn btn-add",children:"".concat(o?"update":"add")})]})})},te=V.a.div(i||(i=Object(h.a)(["\n  border: 1px solid var(--clr-black);\n  border-radius: var(--radius);\n  margin-top: 1.5rem;\n  margin-bottom: 1.5rem;\n  .task-editing {\n    border-bottom: 1px solid var(--clr-black);\n  }\n  .task {\n    display: flex;\n    justify-content: space-between;\n    padding: 1rem;\n    @media (max-width: 500px) {\n      padding: 0.5rem;\n      flex-direction: column;\n      .left-task-item {\n        margin-bottom: 1rem;\n      }\n    }\n    .left-task-item {\n      display: flex;\n      align-items: center;\n    }\n    .checkbox[type='checkbox'] {\n      display: inline-block;\n      margin-right: 1rem;\n      height: 16px;\n      width: 16px;\n    }\n    .task-title {\n      text-transform: capitalize;\n    }\n    .btn-detail {\n      margin-right: 1rem;\n    }\n    .btn-remove {\n      background-color: var(--clr-red-dark);\n      :hover {\n        background-color: var(--clr-red-light);\n      }\n    }\n    .btn-detail {\n      background-color: var(--clr-blue-dark);\n      :hover {\n        background-color: var(--clr-blue-light);\n      }\n    }\n  }\n"]))),ne=function(e){var t=P(),n=t.removeTask,a=t.selectTask,r=Object(l.useState)(!1),c=Object(f.a)(r,2),s=c[0],i=c[1],o=e.title,d=e.id,b=e.isSelected;return Object(J.jsxs)(te,{className:"task-container",children:[Object(J.jsxs)("div",{className:"".concat(s?"task task-editing":"task"),children:[Object(J.jsxs)("div",{className:"left-task-item",children:[Object(J.jsx)("input",{type:"checkbox",name:"checkbox",className:"checkbox",checked:b,onChange:function(){return a(d,b)}}),Object(J.jsx)("span",{className:"task-title",children:o})]}),Object(J.jsxs)("div",{className:"buttons",children:[Object(J.jsx)("button",{onClick:function(){return i(!s)},className:"btn btn-detail",children:"detail"}),Object(J.jsx)("button",{onClick:function(){return n(d)},className:"btn btn-remove",children:"remove"})]})]}),s&&Object(J.jsx)(ee,{task:e,isEditing:s,setIsEditing:i})]})},ae=V.a.div(o||(o=Object(h.a)(["\n  width: 80%;\n  margin: 0 auto;\n"]))),re=function(){var e=P().filtered_tasks;return Object(J.jsx)(ae,{children:e.map((function(e,t){return Object(J.jsx)(ne,Object(O.a)({},e),t)}))})},ce=V.a.div(d||(d=Object(h.a)(["\n  .home-page {\n    padding-right: 3rem;\n    padding-left: 3rem;\n    @media (max-width: 800px) {\n      padding-right: 0rem;\n      padding-left: 0rem;\n    }\n  }\n"]))),se=function(){var e=P(),t=e.tasks,n=e.selectedItems;return!t||t.length<1?Object(J.jsxs)("div",{children:[Object(J.jsx)("h1",{children:"there is no tasks"}),Object(J.jsx)(p.b,{to:"/add",exact:"true",children:"fill it"})]}):Object(J.jsx)(ce,{children:Object(J.jsxs)("div",{className:"home-page section-center",children:[Object(J.jsx)(U,{}),Object(J.jsx)("h3",{children:"To Do List"}),Object(J.jsx)(W,{}),Object(J.jsx)(re,{}),n>0&&Object(J.jsx)(q,{})]})})},ie=function(e){return console.log(e.match,e.history),Object(J.jsxs)("div",{className:"add-task-container section-center",children:[Object(J.jsx)(U,{}),Object(J.jsx)("h3",{children:"New Task"}),Object(J.jsx)(ee,{history:e.history})]})};var oe=function(){return Object(J.jsx)("div",{className:"App",children:Object(J.jsxs)(p.a,{children:[Object(J.jsx)(m.a,{path:"/",component:function(e){var t=e.match;return Object(J.jsx)(se,{match:t})},exact:!0}),Object(J.jsx)(m.a,{path:"/add",component:function(e){var t=e.match,n=e.history;return Object(J.jsx)(ie,{match:t,history:n})},exact:!0})]})})},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,133)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};u.a.render(Object(J.jsx)(b.a.StrictMode,{children:Object(J.jsx)(R,{children:Object(J.jsx)(oe,{})})}),document.getElementById("root")),de()},68:function(e,t,n){},69:function(e,t,n){}},[[126,1,2]]]);
//# sourceMappingURL=main.d605a8b5.chunk.js.map